<!DOCTYPE html>
<html lang="es" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>hjg2pdf</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton-framework/1.1.1/skeleton.min.css">
    <link rel="stylesheet" href="styles/style.css">
  </head>
  <body onload="brython()">
  <!-- <body onload="brython({debug: 1, indexedDB: false})"> -->
    <div class="container">
      <div class="center-text heading row">
        <div class="column">
          <h1>LÃ©on-Dufour a PDF</h1>
          <h5 class="subtitle">Descarge la palabra y sus lecturas en pdf.</h5>
        </div>
      </div>
    </div>
    <form>
      <div class="row">
        <div class="column four"></div>
        <div class="column four">
          <input class="input u-full-width" type="text" placeholder="Ingrese su Palabra" id="palabra">
          <input class="u-full-width button-primary" type="submit" value="Buscar" id="buscar">
        </div>
      </div>
    </form>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.8.9/brython.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.8.9/brython_stdlib.js"></script>
    <script type="text/python3" src="scripts/dummy.py"></script>
    <script type="text/python3">
      from browser import document, alert, ajax

      def on_complete(response):
          if response.status == 200:
              alert("encontrado")
          else:
              alert("no encontrado")

      def dummy(palabra):
        url = "http://hjg.com.ar/vocbib/art/{}.html".format(palabra)
        ajax.get(url, headers={'content-type','application/x-www-form-urlencoded'}, mode="text", encoding="utf-8", oncomplete=on_complete)

      document["buscar"].bind("click", dummy(document["palabra"].value))
    </script>
  </body>
</html>
